/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20120624
 */
(function(ea){function O(O,da){function P(a){return c.preferFlash&&m&&!c.ignoreFlash&&"undefined"!==typeof c.flash[a]&&c.flash[a]}function n(a){return function(c){var d=this._t;return!d||!d._a?null:a.call(this,c)}}this.setupOptions={url:O||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1E3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,
useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,
ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],
required:!1}};this.movieID="sm2-container";this.id=da||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120624";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox=
{};var fa;try{fa="undefined"!==typeof Audio&&"undefined"!==typeof(new Audio).canPlayType}catch(bb){fa=!1}this.hasHTML5=fa;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var Ca,c=this,h=null,Q,q=navigator.userAgent,k=ea,ga=k.location.href.toString(),i=document,ha,Da,ia,j,w=[],H=!1,I=!1,o=!1,r=!1,ja=!1,J,s,ka,R,la,A,B,C,Ea,ma,S,T,D,na,oa,pa,U,E,Fa,qa,Ga,V,Ha,K=null,ra=null,u,sa,F,W,X,G,p,L=!1,ta=!1,Ia,Ja,Ka,Y=0,M=null,Z,t=null,La,$,N,x,ua,va,Ma,l,Ya=Array.prototype.slice,
z=!1,m,wa,Na,v,Oa,xa=q.match(/(ipad|iphone|ipod)/i),y=q.match(/msie/i),Za=q.match(/webkit/i),ya=q.match(/safari/i)&&!q.match(/chrome/i),Pa=q.match(/opera/i),za=q.match(/(mobile|pre\/|xoom)/i)||xa,Qa=!ga.match(/usehtml5audio/i)&&!ga.match(/sm2\-ignorebadua/i)&&ya&&!q.match(/silk/i)&&q.match(/OS X 10_6_([3-7])/i),Aa="undefined"!==typeof i.hasFocus?i.hasFocus():null,aa=ya&&("undefined"===typeof i.hasFocus||!i.hasFocus()),Ra=!aa,Sa=/(mp3|mp4|mpa|m4a|m4b)/i,Ba=i.location?i.location.protocol.match(/http/i):
null,Ta=!Ba?"http://":"",Ua=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Va="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),$a=RegExp("\\.("+Va.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ba;this._global_a=null;za&&(c.useHTML5Audio=!0,c.preferFlash=!1,xa&&(z=c.ignoreFlash=!0));this.setup=function(a){typeof a!=="undefined"&&(o&&t&&c.ok()&&(typeof a.flashVersion!=="undefined"||typeof a.url!==
"undefined"))&&G(u("setupLate"));ka(a);return c};this.supported=this.ok=function(){return t?o&&!r:c.useHTML5Audio&&c.hasHTML5};this.getMovie=function(a){return Q(a)||i[a]||k[a]};this.createSound=function(a,e){function d(){b=W(b);c.sounds[f.id]=new Ca(f);c.soundIDs.push(f.id);return c.sounds[f.id]}var b=null,g=null,f=null;if(!o||!c.ok()){G(void 0);return false}typeof e!=="undefined"&&(a={id:a,url:e});b=s(a);b.url=Z(b.url);f=b;if(p(f.id,true))return c.sounds[f.id];if($(f)){g=d();g._setup_html5(f)}else{if(j>
8&&f.isMovieStar===null)f.isMovieStar=!(!f.serverURL&&!(f.type&&f.type.match(Ua)||f.url.match($a)));f=X(f,void 0);g=d();if(j===8)h._createSound(f.id,f.loops||1,f.usePolicyFile);else{h._createSound(f.id,f.url,f.usePeakData,f.useWaveformData,f.useEQData,f.isMovieStar,f.isMovieStar?f.bufferTime:false,f.loops||1,f.serverURL,f.duration||null,f.autoPlay,true,f.autoLoad,f.usePolicyFile);if(!f.serverURL){g.connected=true;f.onconnect&&f.onconnect.apply(g)}}!f.serverURL&&(f.autoLoad||f.autoPlay)&&g.load(f)}!f.serverURL&&
f.autoPlay&&g.play();return g};this.destroySound=function(a,e){if(!p(a))return false;var d=c.sounds[a],b;d._iO={};d.stop();d.unload();for(b=0;b<c.soundIDs.length;b++)if(c.soundIDs[b]===a){c.soundIDs.splice(b,1);break}e||d.destruct(true);delete c.sounds[a];return true};this.load=function(a,e){return!p(a)?false:c.sounds[a].load(e)};this.unload=function(a){return!p(a)?false:c.sounds[a].unload()};this.onposition=this.onPosition=function(a,e,d,b){return!p(a)?false:c.sounds[a].onposition(e,d,b)};this.clearOnPosition=
function(a,e,d){return!p(a)?false:c.sounds[a].clearOnPosition(e,d)};this.start=this.play=function(a,e){var d=false;if(!o||!c.ok()){G("soundManager.play(): "+u(!o?"notReady":"notOK"));return d}if(!p(a)){e instanceof Object||(e={url:e});if(e&&e.url){e.id=a;d=c.createSound(e).play()}return d}return c.sounds[a].play(e)};this.setPosition=function(a,e){return!p(a)?false:c.sounds[a].setPosition(e)};this.stop=function(a){return!p(a)?false:c.sounds[a].stop()};this.stopAll=function(){for(var a in c.sounds)c.sounds.hasOwnProperty(a)&&
c.sounds[a].stop()};this.pause=function(a){return!p(a)?false:c.sounds[a].pause()};this.pauseAll=function(){var a;for(a=c.soundIDs.length-1;a>=0;a--)c.sounds[c.soundIDs[a]].pause()};this.resume=function(a){return!p(a)?false:c.sounds[a].resume()};this.resumeAll=function(){var a;for(a=c.soundIDs.length-1;a>=0;a--)c.sounds[c.soundIDs[a]].resume()};this.togglePause=function(a){return!p(a)?false:c.sounds[a].togglePause()};this.setPan=function(a,e){return!p(a)?false:c.sounds[a].setPan(e)};this.setVolume=
function(a,e){return!p(a)?false:c.sounds[a].setVolume(e)};this.mute=function(a){var e=0;typeof a!=="string"&&(a=null);if(a)return!p(a)?false:c.sounds[a].mute();for(e=c.soundIDs.length-1;e>=0;e--)c.sounds[c.soundIDs[e]].mute();return c.muted=true};this.muteAll=function(){c.mute()};this.unmute=function(a){typeof a!=="string"&&(a=null);if(a)return!p(a)?false:c.sounds[a].unmute();for(a=c.soundIDs.length-1;a>=0;a--)c.sounds[c.soundIDs[a]].unmute();c.muted=false;return true};this.unmuteAll=function(){c.unmute()};
this.toggleMute=function(a){return!p(a)?false:c.sounds[a].toggleMute()};this.getMemoryUse=function(){var a=0;h&&j!==8&&(a=parseInt(h._getMemoryUse(),10));return a};this.disable=function(a){var e;typeof a==="undefined"&&(a=false);if(r)return false;r=true;for(e=c.soundIDs.length-1;e>=0;e--)Ga(c.sounds[c.soundIDs[e]]);J(a);l.remove(k,"load",B);return true};this.canPlayMIME=function(a){var e;c.hasHTML5&&(e=N({type:a}));!e&&t&&(e=a&&c.ok()?!!(j>8&&a.match(Ua)||a.match(c.mimePattern)):null);return e};this.canPlayURL=
function(a){var e;c.hasHTML5&&(e=N({url:a}));!e&&t&&(e=a&&c.ok()?!!a.match(c.filePattern):null);return e};this.canPlayLink=function(a){return typeof a.type!=="undefined"&&a.type&&c.canPlayMIME(a.type)?true:c.canPlayURL(a.href)};this.getSoundById=function(a){if(!a)throw Error("soundManager.getSoundById(): sID is null/undefined");return c.sounds[a]};this.onready=function(a,c){if(typeof a==="function"){c||(c=k);la("onready",a,c);A()}else throw u("needFunction","onready");return true};this.ontimeout=
function(a,c){if(typeof a==="function"){c||(c=k);la("ontimeout",a,c);A({type:"ontimeout"})}else throw u("needFunction","ontimeout");return true};this._wD=this._writeDebug=function(){return true};this._debug=function(){};this.reboot=function(){var a,e;for(a=c.soundIDs.length-1;a>=0;a--)c.sounds[c.soundIDs[a]].destruct();if(h)try{if(y)ra=h.innerHTML;K=h.parentNode.removeChild(h)}catch(d){}ra=K=t=null;c.enabled=oa=o=L=ta=H=I=r=c.swfLoaded=false;c.soundIDs=[];c.sounds={};h=null;for(a in w)if(w.hasOwnProperty(a))for(e=
w[a].length-1;e>=0;e--)w[a][e].fired=false;k.setTimeout(c.beginDelayedInit,20)};this.getMoviePercent=function(){return h&&typeof h.PercentLoaded!=="undefined"?h.PercentLoaded():null};this.beginDelayedInit=function(){ja=true;D();setTimeout(function(){if(ta)return false;U();T();return ta=true},20);C()};this.destruct=function(){c.disable(true)};Ca=function(a){var e,d,b=this,g,f,k,i,ba,n,o=false,l=[],q=0,r,t,m=null;d=e=null;this.sID=this.id=a.id;this.url=a.url;this._iO=this.instanceOptions=this.options=
s(a);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=false;this._a=null;this.id3={};this._debug=function(){};this.load=function(a){var c=null;if(typeof a!=="undefined"){b._iO=s(a,b.options);b.instanceOptions=b._iO}else{a=b.options;b._iO=a;b.instanceOptions=b._iO;if(m&&m!==b.url){b._iO.url=b.url;b.url=null}}if(!b._iO.url)b._iO.url=b.url;b._iO.url=Z(b._iO.url);if(b._iO.url===b.url&&b.readyState!==0&&b.readyState!==2){b.readyState===3&&b._iO.onload&&b._iO.onload.apply(b,[!!b.duration]);
return b}a=b._iO;m=b.url;b.loaded=false;b.readyState=1;b.playState=0;b.id3={};if($(a)){c=b._setup_html5(a);if(!c._called_load){b._html5_canplay=false;if(b._a.src!==a.url){b._a.src=a.url;b.setPosition(0)}b._a.autobuffer="auto";b._a.preload="auto";c._called_load=true;a.autoPlay&&b.play()}}else try{b.isHTML5=false;b._iO=X(W(a));a=b._iO;j===8?h._load(b.id,a.url,a.stream,a.autoPlay,a.whileloading?1:0,a.loops||1,a.usePolicyFile):h._load(b.id,a.url,!!a.stream,!!a.autoPlay,a.loops||1,!!a.autoLoad,a.usePolicyFile)}catch(e){E({type:"SMSOUND_LOAD_JS_EXCEPTION",
fatal:true})}return b};this.unload=function(){if(b.readyState!==0){if(b.isHTML5){i();if(b._a){b._a.pause();ua(b._a,"about:blank");b.url="about:blank"}}else j===8?h._unload(b.id,"about:blank"):h._unload(b.id);g()}return b};this.destruct=function(a){if(b.isHTML5){i();if(b._a){b._a.pause();ua(b._a);z||k();b._a._t=null;b._a=null}}else{b._iO.onfailure=null;h._destroySound(b.id)}a||c.destroySound(b.id,true)};this.start=this.play=function(a,c){var e,d;d=true;d=null;c=typeof c==="undefined"?true:c;a||(a=
{});b._iO=s(a,b._iO);b._iO=s(b._iO,b.options);b._iO.url=Z(b._iO.url);b.instanceOptions=b._iO;if(b._iO.serverURL&&!b.connected){b.getAutoPlay()||b.setAutoPlay(true);return b}if($(b._iO)){b._setup_html5(b._iO);ba()}if(b.playState===1&&!b.paused)(e=b._iO.multiShot)||(d=b);if(d!==null)return d;if(!b.loaded)if(b.readyState===0){if(!b.isHTML5)b._iO.autoPlay=true;b.load(b._iO)}else b.readyState===2&&(d=b);if(d!==null)return d;if(!b.isHTML5&&j===9&&b.position>0&&b.position===b.duration)a.position=0;if(b.paused&&
b.position&&b.position>0)b.resume();else{b._iO=s(a,b._iO);if(b._iO.from!==null&&b._iO.to!==null&&b.instanceCount===0&&b.playState===0&&!b._iO.serverURL){e=function(){b._iO=s(a,b._iO);b.play(b._iO)};if(b.isHTML5&&!b._html5_canplay){b.load({_oncanplay:e});d=false}else if(!b.isHTML5&&!b.loaded&&(!b.readyState||b.readyState!==2)){b.load({onload:e});d=false}if(d!==null)return d;b._iO=t()}(!b.instanceCount||b._iO.multiShotEvents||!b.isHTML5&&j>8&&!b.getAutoPlay())&&b.instanceCount++;b._iO.onposition&&b.playState===
0&&n(b);b.playState=1;b.paused=false;b.position=typeof b._iO.position!=="undefined"&&!isNaN(b._iO.position)?b._iO.position:0;if(!b.isHTML5)b._iO=X(W(b._iO));if(b._iO.onplay&&c){b._iO.onplay.apply(b);o=true}b.setVolume(b._iO.volume,true);b.setPan(b._iO.pan,true);if(b.isHTML5){ba();d=b._setup_html5();b.setPosition(b._iO.position);d.play()}else{d=h._start(b.id,b._iO.loops||1,j===9?b._iO.position:b._iO.position/1E3,b._iO.multiShot);j===9&&!d&&b._iO.onplayerror&&b._iO.onplayerror.apply(b)}}return b};this.stop=
function(a){var c=b._iO;if(b.playState===1){b._onbufferchange(0);b._resetOnPosition(0);b.paused=false;if(!b.isHTML5)b.playState=0;r();c.to&&b.clearOnPosition(c.to);if(b.isHTML5){if(b._a){a=b.position;b.setPosition(0);b.position=a;b._a.pause();b.playState=0;b._onTimer();i()}}else{h._stop(b.id,a);c.serverURL&&b.unload()}b.instanceCount=0;b._iO={};c.onstop&&c.onstop.apply(b)}return b};this.setAutoPlay=function(a){b._iO.autoPlay=a;if(!b.isHTML5){h._setAutoPlay(b.id,a);a&&!b.instanceCount&&b.readyState===
1&&b.instanceCount++}};this.getAutoPlay=function(){return b._iO.autoPlay};this.setPosition=function(a){typeof a==="undefined"&&(a=0);var c=b.isHTML5?Math.max(a,0):Math.min(b.duration||b._iO.duration,Math.max(a,0));b.position=c;a=b.position/1E3;b._resetOnPosition(b.position);b._iO.position=c;if(b.isHTML5){if(b._a&&b._html5_canplay&&b._a.currentTime!==a)try{b._a.currentTime=a;(b.playState===0||b.paused)&&b._a.pause()}catch(e){}}else{a=j===9?b.position:a;b.readyState&&b.readyState!==2&&h._setPosition(b.id,
a,b.paused||!b.playState,b._iO.multiShot)}b.isHTML5&&b.paused&&b._onTimer(true);return b};this.pause=function(a){if(b.paused||b.playState===0&&b.readyState!==1)return b;b.paused=true;if(b.isHTML5){b._setup_html5().pause();i()}else(a||typeof a==="undefined")&&h._pause(b.id,b._iO.multiShot);b._iO.onpause&&b._iO.onpause.apply(b);return b};this.resume=function(){var a=b._iO;if(!b.paused)return b;b.paused=false;b.playState=1;if(b.isHTML5){b._setup_html5().play();ba()}else{a.isMovieStar&&!a.serverURL&&
b.setPosition(b.position);h._pause(b.id,a.multiShot)}if(!o&&a.onplay){a.onplay.apply(b);o=true}else a.onresume&&a.onresume.apply(b);return b};this.togglePause=function(){if(b.playState===0){b.play({position:j===9&&!b.isHTML5?b.position:b.position/1E3});return b}b.paused?b.resume():b.pause();return b};this.setPan=function(a,c){typeof a==="undefined"&&(a=0);typeof c==="undefined"&&(c=false);b.isHTML5||h._setPan(b.id,a);b._iO.pan=a;if(!c){b.pan=a;b.options.pan=a}return b};this.setVolume=function(a,e){typeof a===
"undefined"&&(a=100);typeof e==="undefined"&&(e=false);if(b.isHTML5){if(b._a)b._a.volume=Math.max(0,Math.min(1,a/100))}else h._setVolume(b.id,c.muted&&!b.muted||b.muted?0:a);b._iO.volume=a;if(!e){b.volume=a;b.options.volume=a}return b};this.mute=function(){b.muted=true;if(b.isHTML5){if(b._a)b._a.muted=true}else h._setVolume(b.id,0);return b};this.unmute=function(){b.muted=false;var a=typeof b._iO.volume!=="undefined";if(b.isHTML5){if(b._a)b._a.muted=false}else h._setVolume(b.id,a?b._iO.volume:b.options.volume);
return b};this.toggleMute=function(){return b.muted?b.unmute():b.mute()};this.onposition=this.onPosition=function(a,c,e){l.push({position:parseInt(a,10),method:c,scope:typeof e!=="undefined"?e:b,fired:false});return b};this.clearOnPosition=function(b,a){var c,b=parseInt(b,10);if(isNaN(b))return false;for(c=0;c<l.length;c++)if(b===l[c].position&&(!a||a===l[c].method)){l[c].fired&&q--;l.splice(c,1)}};this._processOnPosition=function(){var a,c;a=l.length;if(!a||!b.playState||q>=a)return false;for(a=
a-1;a>=0;a--){c=l[a];if(!c.fired&&b.position>=c.position){c.fired=true;q++;c.method.apply(c.scope,[c.position])}}return true};this._resetOnPosition=function(b){var a,c;a=l.length;if(!a)return false;for(a=a-1;a>=0;a--){c=l[a];if(c.fired&&b<=c.position){c.fired=false;q--}}return true};t=function(){var a=b._iO,c=a.from,e=a.to,d,f;f=function(){b.clearOnPosition(e,f);b.stop()};d=function(){if(e!==null&&!isNaN(e))b.onPosition(e,f)};if(c!==null&&!isNaN(c)){a.position=c;a.multiShot=false;d()}return a};n=
function(){var a,c=b._iO.onposition;if(c)for(a in c)if(c.hasOwnProperty(a))b.onPosition(parseInt(a,10),c[a])};r=function(){var a,c=b._iO.onposition;if(c)for(a in c)c.hasOwnProperty(a)&&b.clearOnPosition(parseInt(a,10))};ba=function(){b.isHTML5&&Ia(b)};i=function(){b.isHTML5&&Ja(b)};g=function(a){if(!a){l=[];q=0}o=false;b._hasTimer=null;b._a=null;b._html5_canplay=false;b.bytesLoaded=null;b.bytesTotal=null;b.duration=b._iO&&b._iO.duration?b._iO.duration:null;b.durationEstimate=null;b.buffered=[];b.eqData=
[];b.eqData.left=[];b.eqData.right=[];b.failures=0;b.isBuffering=false;b.instanceOptions={};b.instanceCount=0;b.loaded=false;b.metadata={};b.readyState=0;b.muted=false;b.paused=false;b.peakData={left:0,right:0};b.waveformData={left:[],right:[]};b.playState=0;b.position=null;b.id3={}};g();this._onTimer=function(a){var c,f=false,g={};if(b._hasTimer||a){if(b._a&&(a||(b.playState>0||b.readyState===1)&&!b.paused)){c=b._get_html5_duration();if(c!==e){e=c;b.duration=c;f=true}b.durationEstimate=b.duration;
c=b._a.currentTime*1E3||0;if(c!==d){d=c;f=true}(f||a)&&b._whileplaying(c,g,g,g,g)}return f}};this._get_html5_duration=function(){var a=b._iO,c=b._a?b._a.duration*1E3:a?a.duration:void 0;return c&&!isNaN(c)&&c!==Infinity?c:a?a.duration:null};this._apply_loop=function(b,a){b.loop=a>1?"loop":""};this._setup_html5=function(a){var a=s(b._iO,a),e=decodeURI,d=z?c._global_a:b._a,h=e(a.url),i=d&&d._t?d._t.instanceOptions:null,k;if(d){if(d._t){if(!z&&h===e(m))k=d;else if(z&&i.url===a.url&&(!m||m===i.url))k=
d;if(k){b._apply_loop(d,a.loops);return k}}z&&(d._t&&d._t.playState&&a.url!==i.url)&&d._t.stop();g(i&&i.url?a.url===i.url:m?m===a.url:false);d.src=a.url;m=b.url=a.url;d._called_load=false}else{b._a=a.autoLoad||a.autoPlay?new Audio(a.url):Pa?new Audio(null):new Audio;d=b._a;d._called_load=false;if(z)c._global_a=d}b.isHTML5=true;b._a=d;d._t=b;f();b._apply_loop(d,a.loops);if(a.autoLoad||a.autoPlay)b.load();else{d.autobuffer=false;d.preload="auto"}return d};f=function(){if(b._a._added_events)return false;
var a;b._a._added_events=true;for(a in v)v.hasOwnProperty(a)&&b._a&&b._a.addEventListener(a,v[a],false);return true};k=function(){var a;b._a._added_events=false;for(a in v)v.hasOwnProperty(a)&&b._a&&b._a.removeEventListener(a,v[a],false)};this._onload=function(a){a=!!a||!b.isHTML5&&j===8&&b.duration;b.loaded=a;b.readyState=a?3:2;b._onbufferchange(0);b._iO.onload&&b._iO.onload.apply(b,[a]);return true};this._onbufferchange=function(a){if(b.playState===0||a&&b.isBuffering||!a&&!b.isBuffering)return false;
b.isBuffering=a===1;b._iO.onbufferchange&&b._iO.onbufferchange.apply(b);return true};this._onsuspend=function(){b._iO.onsuspend&&b._iO.onsuspend.apply(b);return true};this._onfailure=function(a,c,e){b.failures++;if(b._iO.onfailure&&b.failures===1)b._iO.onfailure(b,a,c,e)};this._onfinish=function(){var a=b._iO.onfinish;b._onbufferchange(0);b._resetOnPosition(0);if(b.instanceCount){b.instanceCount--;if(!b.instanceCount){r();b.playState=0;b.paused=false;b.instanceCount=0;b.instanceOptions={};b._iO={};
i();if(b.isHTML5)b.position=0}(!b.instanceCount||b._iO.multiShotEvents)&&a&&a.apply(b)}};this._whileloading=function(a,c,e,d){var f=b._iO;b.bytesLoaded=a;b.bytesTotal=c;b.duration=Math.floor(e);b.bufferLength=d;if(f.isMovieStar)b.durationEstimate=b.duration;else{b.durationEstimate=f.duration?b.duration>f.duration?b.duration:f.duration:parseInt(b.bytesTotal/b.bytesLoaded*b.duration,10);if(typeof b.durationEstimate==="undefined")b.durationEstimate=b.duration}if(!b.isHTML5)b.buffered=[{start:0,end:b.duration}];
(b.readyState!==3||b.isHTML5)&&f.whileloading&&f.whileloading.apply(b)};this._whileplaying=function(a,c,e,d,f){var g=b._iO;if(isNaN(a)||a===null)return false;b.position=Math.max(0,a);b._processOnPosition();if(!b.isHTML5&&j>8){if(g.usePeakData&&typeof c!=="undefined"&&c)b.peakData={left:c.leftPeak,right:c.rightPeak};if(g.useWaveformData&&typeof e!=="undefined"&&e)b.waveformData={left:e.split(","),right:d.split(",")};if(g.useEQData&&typeof f!=="undefined"&&f&&f.leftEQ){a=f.leftEQ.split(",");b.eqData=
a;b.eqData.left=a;if(typeof f.rightEQ!=="undefined"&&f.rightEQ)b.eqData.right=f.rightEQ.split(",")}}if(b.playState===1){!b.isHTML5&&(j===8&&!b.position&&b.isBuffering)&&b._onbufferchange(0);g.whileplaying&&g.whileplaying.apply(b)}return true};this._oncaptiondata=function(a){b.captiondata=a;b._iO.oncaptiondata&&b._iO.oncaptiondata.apply(b)};this._onmetadata=function(a,c){var e={},d,f;d=0;for(f=a.length;d<f;d++)e[a[d]]=c[d];b.metadata=e;b._iO.onmetadata&&b._iO.onmetadata.apply(b)};this._onid3=function(a,
c){var e=[],d,f;d=0;for(f=a.length;d<f;d++)e[a[d]]=c[d];b.id3=s(b.id3,e);b._iO.onid3&&b._iO.onid3.apply(b)};this._onconnect=function(a){a=a===1;if(b.connected=a){b.failures=0;p(b.id)&&(b.getAutoPlay()?b.play(void 0,b.getAutoPlay()):b._iO.autoLoad&&b.load());b._iO.onconnect&&b._iO.onconnect.apply(b,[a])}};this._ondataerror=function(){b.playState>0&&b._iO.ondataerror&&b._iO.ondataerror.apply(b)}};pa=function(){return i.body||i._docElement||i.getElementsByTagName("div")[0]};Q=function(a){return i.getElementById(a)};
s=function(a,e){var d=a||{},b,g;b=typeof e==="undefined"?c.defaultOptions:e;for(g in b)b.hasOwnProperty(g)&&typeof d[g]==="undefined"&&(d[g]=typeof b[g]!=="object"||b[g]===null?b[g]:s(d[g],b[g]));return d};R={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};ka=function(a,e){var d,b=true,g=typeof e!=="undefined",f=c.setupOptions;for(d in a)if(a.hasOwnProperty(d))if(typeof a[d]!=="object"||a[d]===null||a[d]instanceof Array)if(g&&typeof R[e]!=="undefined")c[e][d]=a[d];else if(typeof f[d]!==
"undefined"){c.setupOptions[d]=a[d];c[d]=a[d]}else if(typeof R[d]==="undefined"){G(u(typeof c[d]==="undefined"?"setupUndef":"setupError",d),2);b=false}else c[d]instanceof Function?c[d].apply(c,a[d]instanceof Array?a[d]:[a[d]]):c[d]=a[d];else if(typeof R[d]==="undefined"){G(u(typeof c[d]==="undefined"?"setupUndef":"setupError",d),2);b=false}else return ka(a[d],d);return b};var Wa=function(a){var a=Ya.call(a),c=a.length;if(ca){a[1]="on"+a[1];c>3&&a.pop()}else c===3&&a.push(false);return a},Xa=function(a,
c){var d=a.shift(),b=[ab[c]];if(ca)d[b](a[0],a[1]);else d[b].apply(d,a)},ca=k.attachEvent,ab={add:ca?"attachEvent":"addEventListener",remove:ca?"detachEvent":"removeEventListener"};l={add:function(){Xa(Wa(arguments),"add")},remove:function(){Xa(Wa(arguments),"remove")}};v={abort:n(function(){}),canplay:n(function(){var a=this._t,c;if(a._html5_canplay)return true;a._html5_canplay=true;a._onbufferchange(0);c=typeof a._iO.position!=="undefined"&&!isNaN(a._iO.position)?a._iO.position/1E3:null;if(a.position&&
this.currentTime!==c)try{this.currentTime=c}catch(d){}a._iO._oncanplay&&a._iO._oncanplay()}),canplaythrough:n(function(){var a=this._t;if(!a.loaded){a._onbufferchange(0);a._whileloading(a.bytesLoaded,a.bytesTotal,a._get_html5_duration());a._onload(true)}}),ended:n(function(){this._t._onfinish()}),error:n(function(){this._t._onload(false)}),loadeddata:n(function(){var a=this._t;if(!a._loaded&&!ya)a.duration=a._get_html5_duration()}),loadedmetadata:n(function(){}),loadstart:n(function(){this._t._onbufferchange(1)}),
play:n(function(){this._t._onbufferchange(0)}),playing:n(function(){this._t._onbufferchange(0)}),progress:n(function(a){var c=this._t,d,b,g=0,g=a.target.buffered;d=a.loaded||0;var f=a.total||1;c.buffered=[];if(g&&g.length){d=0;for(b=g.length;d<b;d++)c.buffered.push({start:g.start(d),end:g.end(d)});g=g.end(0)-g.start(0);d=g/a.target.duration}if(!isNaN(d)){c._onbufferchange(0);c._whileloading(d,f,c._get_html5_duration());d&&(f&&d===f)&&v.canplaythrough.call(this,a)}}),ratechange:n(function(){}),suspend:n(function(a){var c=
this._t;v.progress.call(this,a);c._onsuspend()}),stalled:n(function(){}),timeupdate:n(function(){this._t._onTimer()}),waiting:n(function(){this._t._onbufferchange(1)})};$=function(a){return a.serverURL||a.type&&P(a.type)?false:a.type?N({type:a.type}):N({url:a.url})||c.html5Only};ua=function(a,c){if(a)a.src=c};N=function(a){if(!c.useHTML5Audio||!c.hasHTML5)return false;var e=a.url||null,a=a.type||null,d=c.audioFormats,b;if(a&&typeof c.html5[a]!=="undefined")return c.html5[a]&&!P(a);if(!x){x=[];for(b in d)if(d.hasOwnProperty(b)){x.push(b);
d[b].related&&(x=x.concat(d[b].related))}x=RegExp("\\.("+x.join("|")+")(\\?.*)?$","i")}b=e?e.toLowerCase().match(x):null;if(!b||!b.length){if(a){e=a.indexOf(";");b=(e!==-1?a.substr(0,e):a).substr(6)}}else b=b[1];if(b&&typeof c.html5[b]!=="undefined")e=c.html5[b]&&!P(b);else{a="audio/"+b;e=c.html5.canPlayType({type:a});e=(c.html5[b]=e)&&c.html5[a]&&!P(a)}return e};Ma=function(){function a(a){var b,d,f=b=false;if(!e||typeof e.canPlayType!=="function")return b;if(a instanceof Array){b=0;for(d=a.length;b<
d&&!f;b++)if(c.html5[a[b]]||e.canPlayType(a[b]).match(c.html5Test)){f=true;c.html5[a[b]]=true;c.flash[a[b]]=!!a[b].match(Sa)}b=f}else{a=e&&typeof e.canPlayType==="function"?e.canPlayType(a):false;b=!(!a||!a.match(c.html5Test))}return b}if(!c.useHTML5Audio||typeof Audio==="undefined")return false;var e=typeof Audio!=="undefined"?Pa?new Audio(null):new Audio:null,d,b,g={},f;f=c.audioFormats;for(d in f)if(f.hasOwnProperty(d)){b="audio/"+d;g[d]=a(f[d].type);g[b]=g[d];if(d.match(Sa)){c.flash[d]=true;c.flash[b]=
true}else{c.flash[d]=false;c.flash[b]=false}if(f[d]&&f[d].related)for(b=f[d].related.length-1;b>=0;b--){g["audio/"+f[d].related[b]]=g[d];c.html5[f[d].related[b]]=g[d];c.flash[f[d].related[b]]=g[d]}}g.canPlayType=e?a:null;c.html5=s(c.html5,g);return true};u=function(){};W=function(a){if(j===8&&a.loops>1&&a.stream)a.stream=false;return a};X=function(a){if(a&&!a.usePolicyFile&&(a.onid3||a.usePeakData||a.useWaveformData||a.useEQData))a.usePolicyFile=true;return a};G=function(){};ha=function(){return false};
Ga=function(a){for(var c in a)a.hasOwnProperty(c)&&typeof a[c]==="function"&&(a[c]=ha)};V=function(a){typeof a==="undefined"&&(a=false);(r||a)&&c.disable(a)};Ha=function(a){var e=null;if(a)if(a.match(/\.swf(\?.*)?$/i)){if(e=a.substr(a.toLowerCase().lastIndexOf(".swf?")+4))return a}else a.lastIndexOf("/")!==a.length-1&&(a=a+"/");a=(a&&a.lastIndexOf("/")!==-1?a.substr(0,a.lastIndexOf("/")+1):"./")+c.movieURL;c.noSWFCache&&(a=a+("?ts="+(new Date).getTime()));return a};ma=function(){j=parseInt(c.flashVersion,
10);if(j!==8&&j!==9)c.flashVersion=j=8;var a=c.debugMode||c.debugFlash?"_debug.swf":".swf";if(c.useHTML5Audio&&!c.html5Only&&c.audioFormats.mp4.required&&j<9)c.flashVersion=j=9;c.version=c.versionNumber+(c.html5Only?" (HTML5-only mode)":j===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(j>8){c.defaultOptions=s(c.defaultOptions,c.flash9Options);c.features.buffering=true;c.defaultOptions=s(c.defaultOptions,c.movieStarOptions);c.filePatterns.flash9=RegExp("\\.(mp3|"+Va.join("|")+")(\\?.*)?$","i");c.features.movieStar=
true}else c.features.movieStar=false;c.filePattern=c.filePatterns[j!==8?"flash9":"flash8"];c.movieURL=(j===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",a);c.features.peakData=c.features.waveformData=c.features.eqData=j>8};Fa=function(a,c){if(!h)return false;h._setPolling(a,c)};qa=function(){if(c.debugURLParam.test(ga))c.debugMode=true};p=this.getSoundById;F=function(){var a=[];c.debugMode&&a.push("sm2_debug");c.debugFlash&&a.push("flash_debug");c.useHighPerformance&&a.push("high_performance");
return a.join(" ")};sa=function(){u("fbHandler");var a=c.getMoviePercent(),e={type:"FLASHBLOCK"};if(c.html5Only)return false;if(c.ok()){if(c.oMC)c.oMC.className=[F(),"movieContainer","swf_loaded"+(c.didFlashBlock?" swf_unblocked":"")].join(" ")}else{if(t)c.oMC.className=F()+" movieContainer "+(a===null?"swf_timedout":"swf_error");c.didFlashBlock=true;A({type:"ontimeout",ignoreInit:true,error:e});E(e)}};la=function(a,c,d){typeof w[a]==="undefined"&&(w[a]=[]);w[a].push({method:c,scope:d||null,fired:false})};
A=function(a){a||(a={type:c.ok()?"onready":"ontimeout"});if(!o&&a&&!a.ignoreInit||a.type==="ontimeout"&&(c.ok()||r&&!a.ignoreInit))return false;var e={success:a&&a.ignoreInit?c.ok():!r},d=a&&a.type?w[a.type]||[]:[],b=[],g,e=[e],f=t&&c.useFlashBlock&&!c.ok();if(a.error)e[0].error=a.error;a=0;for(g=d.length;a<g;a++)d[a].fired!==true&&b.push(d[a]);if(b.length){a=0;for(g=b.length;a<g;a++){b[a].scope?b[a].method.apply(b[a].scope,e):b[a].method.apply(this,e);if(!f)b[a].fired=true}}return true};B=function(){k.setTimeout(function(){c.useFlashBlock&&
sa();A();typeof c.onload==="function"&&c.onload.apply(k);c.waitForWindowLoad&&l.add(k,"load",B)},1)};wa=function(){if(typeof m!=="undefined")return m;var a=false,c=navigator,d=c.plugins,b,g=k.ActiveXObject;if(d&&d.length)(c=c.mimeTypes)&&(c["application/x-shockwave-flash"]&&c["application/x-shockwave-flash"].enabledPlugin&&c["application/x-shockwave-flash"].enabledPlugin.description)&&(a=true);else if(typeof g!=="undefined"){try{b=new g("ShockwaveFlash.ShockwaveFlash")}catch(f){}a=!!b}return m=a};
La=function(){var a,e,d=c.audioFormats;if(xa&&q.match(/os (1|2|3_0|3_1)/i)){c.hasHTML5=false;c.html5Only=true;if(c.oMC)c.oMC.style.display="none"}else if(c.useHTML5Audio)c.hasHTML5=!c.html5||!c.html5.canPlayType?false:true;if(c.useHTML5Audio&&c.hasHTML5)for(e in d)if(d.hasOwnProperty(e)&&(d[e].required&&!c.html5.canPlayType(d[e].type)||c.preferFlash&&(c.flash[e]||c.flash[d[e].type])))a=true;c.ignoreFlash&&(a=false);c.html5Only=c.hasHTML5&&c.useHTML5Audio&&!a;return!c.html5Only};Z=function(a){var e,
d,b=0;if(a instanceof Array){e=0;for(d=a.length;e<d;e++)if(a[e]instanceof Object){if(c.canPlayMIME(a[e].type)){b=e;break}}else if(c.canPlayURL(a[e])){b=e;break}if(a[b].url)a[b]=a[b].url;a=a[b]}return a};Ia=function(a){if(!a._hasTimer){a._hasTimer=true;if(!za&&c.html5PollingInterval){M===null&&Y===0&&(M=k.setInterval(Ka,c.html5PollingInterval));Y++}}};Ja=function(a){if(a._hasTimer){a._hasTimer=false;!za&&c.html5PollingInterval&&Y--}};Ka=function(){var a;if(M!==null&&!Y){k.clearInterval(M);M=null;return false}for(a=
c.soundIDs.length-1;a>=0;a--)c.sounds[c.soundIDs[a]].isHTML5&&c.sounds[c.soundIDs[a]]._hasTimer&&c.sounds[c.soundIDs[a]]._onTimer()};E=function(a){a=typeof a!=="undefined"?a:{};typeof c.onerror==="function"&&c.onerror.apply(k,[{type:typeof a.type!=="undefined"?a.type:null}]);typeof a.fatal!=="undefined"&&a.fatal&&c.disable()};Na=function(){if(!Qa||!wa())return false;var a=c.audioFormats,e,d;for(d in a)if(a.hasOwnProperty(d)&&(d==="mp3"||d==="mp4")){c.html5[d]=false;if(a[d]&&a[d].related)for(e=a[d].related.length-
1;e>=0;e--)c.html5[a[d].related[e]]=false}};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(c.swfLoaded)return false;(new Date).getTime();c.swfLoaded=true;aa=false;Qa&&Na();setTimeout(ia,y?100:1)};U=function(a,e){function d(a,b){return'<param name="'+a+'" value="'+b+'" />'}if(H&&I)return false;if(c.html5Only){ma();c.oMC=Q(c.movieID);ia();I=H=true;return false}var b=e||c.url,g=c.altURL||b,f;f=pa();var h,k,j=F(),l,m=null,m=(m=i.getElementsByTagName("html")[0])&&m.dir&&m.dir.match(/rtl/i),
a=typeof a==="undefined"?c.id:a;ma();c.url=Ha(Ba?b:g);e=c.url;c.wmode=!c.wmode&&c.useHighPerformance?"transparent":c.wmode;if(c.wmode!==null&&(q.match(/msie 8/i)||!y&&!c.useHighPerformance)&&navigator.platform.match(/win32|win64/i))c.wmode=null;f={name:a,id:a,src:e,quality:"high",allowScriptAccess:c.allowScriptAccess,bgcolor:c.bgColor,pluginspage:Ta+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:c.wmode,hasPriority:"true"};
if(c.debugFlash)f.FlashVars="debug=1";c.wmode||delete f.wmode;if(y){b=i.createElement("div");k=['<object id="'+a+'" data="'+e+'" type="'+f.type+'" title="'+f.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+Ta+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',d("movie",e),d("AllowScriptAccess",c.allowScriptAccess),d("quality",f.quality),c.wmode?d("wmode",c.wmode):"",d("bgcolor",c.bgColor),d("hasPriority","true"),c.debugFlash?d("FlashVars",f.FlashVars):
"","</object>"].join("")}else{b=i.createElement("embed");for(h in f)f.hasOwnProperty(h)&&b.setAttribute(h,f[h])}qa();j=F();if(f=pa()){c.oMC=Q(c.movieID)||i.createElement("div");if(c.oMC.id){l=c.oMC.className;c.oMC.className=(l?l+" ":"movieContainer")+(j?" "+j:"");c.oMC.appendChild(b);if(y){h=c.oMC.appendChild(i.createElement("div"));h.className="sm2-object-box";h.innerHTML=k}I=true}else{c.oMC.id=c.movieID;c.oMC.className="movieContainer "+j;h=j=null;if(!c.useFlashBlock)if(c.useHighPerformance)j={position:"fixed",
width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else{j={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"};if(m)j.left=Math.abs(parseInt(j.left,10))+"px"}if(Za)c.oMC.style.zIndex=1E4;if(!c.debugFlash)for(l in j)j.hasOwnProperty(l)&&(c.oMC.style[l]=j[l]);try{y||c.oMC.appendChild(b);f.appendChild(c.oMC);if(y){h=c.oMC.appendChild(i.createElement("div"));h.className="sm2-object-box";h.innerHTML=k}I=true}catch(n){throw Error(u("domError")+" \n"+n.toString());
}}}return H=true};T=function(){if(c.html5Only){U();return false}if(h)return false;h=c.getMovie(c.id);if(!h){if(K){y?c.oMC.innerHTML=ra:c.oMC.appendChild(K);K=null;H=true}else U(c.id,c.url);h=c.getMovie(c.id)}typeof c.oninitmovie==="function"&&setTimeout(c.oninitmovie,1);return true};C=function(){setTimeout(Ea,1E3)};Ea=function(){var a,e=false;if(L)return false;L=true;l.remove(k,"load",C);if(aa&&!Aa)return false;if(!o){a=c.getMoviePercent();a>0&&a<100&&(e=true)}setTimeout(function(){a=c.getMoviePercent();
if(e){L=false;k.setTimeout(C,1);return false}!o&&Ra&&(a===null?c.useFlashBlock||c.flashLoadTimeout===0?c.useFlashBlock&&sa():V(true):c.flashLoadTimeout!==0&&V(true))},c.flashLoadTimeout)};S=function(){if(Aa||!aa){l.remove(k,"focus",S);return true}Aa=Ra=true;L=false;C();l.remove(k,"focus",S);return true};Oa=function(){var a,e=[];if(c.useHTML5Audio&&c.hasHTML5)for(a in c.audioFormats)c.audioFormats.hasOwnProperty(a)&&e.push(a+": "+c.html5[a]+(!c.html5[a]&&m&&c.flash[a]?" (using flash)":c.preferFlash&&
c.flash[a]&&m?" (preferring flash)":!c.html5[a]?" ("+(c.audioFormats[a].required?"required, ":"")+"and no flash support)":""))};J=function(a){if(o)return false;if(c.html5Only){o=true;B();return true}var e=true,d;if(!c.useFlashBlock||!c.flashLoadTimeout||c.getMoviePercent()){o=true;r&&(d={type:!m&&t?"NO_FLASH":"INIT_TIMEOUT"})}if(r||a){if(c.useFlashBlock&&c.oMC)c.oMC.className=F()+" "+(c.getMoviePercent()===null?"swf_timedout":"swf_error");A({type:"ontimeout",error:d,ignoreInit:true});E(d);e=false}r||
(c.waitForWindowLoad&&!ja?l.add(k,"load",B):B());return e};Da=function(){var a,e=c.setupOptions;for(a in e)e.hasOwnProperty(a)&&(typeof c[a]==="undefined"?c[a]=e[a]:c[a]!==e[a]&&(c.setupOptions[a]=c[a]))};ia=function(){if(o)return false;if(c.html5Only){if(!o){l.remove(k,"load",c.beginDelayedInit);c.enabled=true;J()}return true}T();try{h._externalInterfaceTest(false);Fa(true,c.flashPollingInterval||(c.useHighPerformance?10:50));c.debugMode||h._disableDebug();c.enabled=true;c.html5Only||l.add(k,"unload",
ha)}catch(a){E({type:"JS_TO_FLASH_EXCEPTION",fatal:true});V(true);J();return false}J();l.remove(k,"load",c.beginDelayedInit);return true};D=function(){if(oa)return false;oa=true;Da();qa();!m&&c.hasHTML5&&c.setup({useHTML5Audio:true,preferFlash:false});Ma();c.html5.usingFlash=La();t=c.html5.usingFlash;Oa();!m&&t&&c.setup({flashLoadTimeout:1});i.removeEventListener&&i.removeEventListener("DOMContentLoaded",D,false);T();return true};va=function(){if(i.readyState==="complete"){D();i.detachEvent("onreadystatechange",
va)}return true};na=function(){ja=true;l.remove(k,"load",na)};wa();l.add(k,"focus",S);l.add(k,"load",C);l.add(k,"load",na);i.addEventListener?i.addEventListener("DOMContentLoaded",D,!1):i.attachEvent?i.attachEvent("onreadystatechange",va):E({type:"NO_DOM2_EVENTS",fatal:!0});"complete"===i.readyState&&setTimeout(D,100)}var da=null;if("undefined"===typeof SM2_DEFER||!SM2_DEFER)da=new O;ea.SoundManager=O;ea.soundManager=da})(window);